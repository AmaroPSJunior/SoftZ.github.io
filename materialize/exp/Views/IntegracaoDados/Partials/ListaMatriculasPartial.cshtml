@model List<SLCONSTRUCT.UI.WEB.ViewModels.ListaMatriculasVModel>

@{
    var updown = ViewBag.ascdesc == "desc" ? "sort-asc fa-angle-up" : "sort-desc fa-angle-down";
    int qtdresgistros = ViewBag.qtdresgistros;
    int paginaatual = ViewBag.paginaatual;
    int qtdpaginas = ViewBag.qtdpaginas;
    bool seanterior = ViewBag.seanterior;
    bool seproximo = ViewBag.seproximo;
}


@Html.Hidden("qtdresgistros", qtdresgistros)
@Html.Hidden("paginaatual", paginaatual)
@Html.Hidden("qtdpaginas", qtdpaginas)
@Html.Hidden("seanterior", seanterior)
@Html.Hidden("seproximo", seproximo)

@Html.Hidden("Url")

<div class="grid integ">
    <table class="bordered highlight">
        <thead>
            <tr>
                <th class="ordena" data-campo="datahora">
                    data <i class="fa @(ViewBag.orderby == "datahora" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="user_id" style="width: 130px;">
                    user_id <i class="fa @(ViewBag.orderby == "user_id" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="full_name">
                    full name <i class="fa @(ViewBag.orderby == "full_name" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="course_id" style="width: 180px;">
                    course_id <i class="fa @(ViewBag.orderby == "course_id" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="long_name">
                    long_name <i class="fa @(ViewBag.orderby == "long_name" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="section_id">
                    section_id <i class="fa @(ViewBag.orderby == "section_id" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="status" style="width: 120px;">
                    status <i class="fa @(ViewBag.orderby == "status" ? updown : "")" aria-hidden="true"></i>
                </th>
                <th class="ordena" data-campo="env_canvas" style="width: 120px;">
                    env. p/ canvas <i class="fa @(ViewBag.orderby == "env_canvas" ? updown : "")" aria-hidden="true"></i>
                </th>
            </tr>
        </thead>
        <tbody>
            @{
                if (Model.Count() > 0)
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.datahora</td>

                            <td>
                                @Html.DisplayFor(x => item.user_id)

                                @*@if (string.IsNullOrEmpty(item.full_name))
                                    {
                                        <i class="fa fa-info tooltipped" aria-hidden="true" data-position="top" data-delay="50"
                                           data-tooltip='Usuário não encontrado no último lote enviado de "Users"'></i>
                                    }*@
                            </td>

                            <td>@Html.DisplayFor(x => item.full_name)</td>

                            @*class="@(string.IsNullOrEmpty(item.long_name) ? "error" : "")"*@

                            <td>
                                @item.course_id
                                @*@if (string.IsNullOrEmpty(item.long_name))
                                    {
                                        <i class="fa fa-info tooltipped" aria-hidden="true" data-position="top" data-delay="50"
                                           data-tooltip='Disciplina não encontrada no último lote enviado de "Course"'></i>
                                    }*@
                            </td>

                            <td>@Html.DisplayFor(x => item.long_name)</td>

                            <td>@item.section_id</td>

                            <td>
                                @item.status
                                <i class="fa fa-info tooltipped" aria-hidden="true" data-position="top" data-delay="50"
                                   data-tooltip="@(item.status.Trim() == "inactive" ? "Usuário inativo na diciplina" : item.status.Trim() == "active" ? "Usuário ativo" : "")"></i>
                            </td>
                            <td>
                                @(item.env_canvas == true ? "sim" : "não")
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr><td colspan="8">Nenhum registro encontrado</td></tr>
                }
            }

        </tbody>
    </table>

    <div class="row cmp-filtro-avancado no-margin right filtro-avancado ">
        <div class="col s12 pagination botoes-paginacao ">
            @if (!seanterior)
            {
                <button class="disabled btn inicio hide-on-small-only shadow"><i class="fas fa-angle-double-left black-text" aria-hidden="true"></i></button>
                <button class="disabled btn anterior shadow"><i class="fas fa-angle-left black-text" aria-hidden="true"></i></button>
            }
            else
            {
                <button class="btn waves-effect inicio hide-on-small-only paginacao shadow" data-pagina="1"><i class="fas fa-angle-double-left black-text" aria-hidden="true"></i></button>
                <button class="btn waves-effect paginacao anterior shadow" data-pagina="@(paginaatual - 1)"><i class="fas fa-angle-left black-text" aria-hidden="true"></i></button>
            }

            <span>@(paginaatual)/@(qtdpaginas)</span>

            @if (!seproximo)
            {
                <button class="disabled btn hide-on-small-only proximo shadow"><i class="fas fa-angle-right black-text" aria-hidden="true"></i></button>
                <button class="disabled btn hide-on-small-only shadow "><i class="fas fa-angle-double-right black-text" aria-hidden="true"></i></button>
            }
            else
            {
                <button class="btn hide-on-small-only waves-effect paginacao shadow" data-pagina="@(paginaatual + 1)"><i class="fas fa-angle-right black-text" aria-hidden="true"></i></button>
                <button class="btn hide-on-small-only waves-effect paginacao proximo shadow" data-pagina="@(qtdpaginas)"><i class="fas fa-angle-double-right black-text" aria-hidden="true"></i></button>
            }
        </div>
    </div>


</div>